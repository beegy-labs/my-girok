# CLAUDE.md

> **Claude Entry Point** | Based on [AGENTS.md](AGENTS.md) | **Last Updated**: 2026-01-21

## Standard Policy

**MUST READ**: [AGENTS.md](AGENTS.md) - Multi-LLM Standard Policy (SSOT)

When AGENTS.md changes, update this file accordingly while preserving Claude-specific optimizations.

---

## Claude-Specific Optimizations

| Feature         | Optimization                           |
| --------------- | -------------------------------------- |
| Context Window  | 200K tokens - 긴 파일 한번에 처리 가능 |
| Code Generation | Artifacts 활용, 전체 파일 출력 선호    |
| Reasoning       | Chain-of-thought 자연스러움            |

---

## Quick Start

**Start here**: [.ai/README.md](.ai/README.md) - Navigation for all AI documentation

## Essential Reading

**For ANY task, read these first:**

1. **[.ai/rules.md](.ai/rules.md)** - Core DO/DON'T rules (CRITICAL)
2. **[.ai/best-practices.md](.ai/best-practices.md)** - 2026 Best Practices (monthly review)
3. **[.ai/architecture.md](.ai/architecture.md)** - Architecture patterns and routing
4. **[docs/test-coverage.md](docs/test-coverage.md)** - Test coverage status & pending tests

### Testing Requirements

**All code changes MUST include tests.** Check `docs/test-coverage.md` for:

- Current coverage status per service
- Pending tests that need to be written
- Files excluded from coverage (and why)

## Task-Based Navigation

| Task Area                 | Read First                                     | SSOT/Policy                                  |
| ------------------------- | ---------------------------------------------- | -------------------------------------------- |
| **Auth/Login**            | `.ai/services/auth-bff.md` + `auth-service.md` | -                                            |
| **Identity Platform**     | `.ai/services/identity-service.md`             | `docs/llm/policies/identity-platform.md`     |
| **Resume/Profile**        | `.ai/services/personal-service.md`             | -                                            |
| **Audit/Compliance**      | `.ai/services/audit-service.md`                | `docs/en/services/audit-service.md`          |
| **Analytics/BI**          | `.ai/services/analytics-service.md`            | `docs/en/services/analytics-service.md`      |
| **Authorization (ReBAC)** | `.ai/services/authorization-service.md`        | `docs/llm/services/authorization-service.md` |
| **Web App**               | `.ai/apps/web-girok.md`                        | -                                            |
| **Design Tokens**         | `.ai/packages/design-tokens.md`                | -                                            |
| **Storybook**             | `.ai/apps/storybook.md`                        | -                                            |
| **i18n/Localization**     | `.ai/i18n-locale.md`                           | -                                            |
| **DB Migrations**         | `.ai/database.md`                              | `docs/llm/policies/database.md`              |
| **Helm/K8s Deploy**       | `.ai/helm-deployment.md` + `.ai/ci-cd.md`      | -                                            |
| **Caching (Redis)**       | `.ai/caching.md`                               | `docs/llm/policies/caching.md`               |
| **Pull Requests**         | `.ai/pull-requests.md` + `.ai/git-flow.md`     | -                                            |
| **Legal/Consent**         | `.ai/services/auth-service.md` (Legal API)     | `docs/llm/policies/legal-consent.md`         |
| **External Resources**    | `.ai/packages/design-tokens.md`                | `docs/llm/policies/external-resources.md`    |

**Always read `.ai/rules.md` first for any task.**

## Documentation Policy (2026)

### CDD (Context-Driven Development)

| Tier | Path        | Role                  | Editable | Generated By     |
| ---- | ----------- | --------------------- | -------- | ---------------- |
| 1    | `.ai/`      | Indicator (~20 lines) | ✅ Edit  | Manual           |
| 2    | `docs/llm/` | SSOT (Full spec)      | ✅ Edit  | Manual           |
| 3    | `docs/en/`  | Human-readable        | ⛔ Auto  | `docs:generate`  |
| 4    | `docs/kr/`  | Korean                | ⛔ Auto  | `docs:translate` |

### SDD (Spec-Driven Development)

| Path      | Role                   | Editable | Purpose                  |
| --------- | ---------------------- | -------- | ------------------------ |
| `.specs/` | Development blueprints | ✅ Edit  | Pre-implementation specs |

**SDD Policy**: `docs/llm/policies/sdd.md`

**Edit Rules**: Edit `.ai/` + `docs/llm/` + `.specs/` only. Never edit `docs/en/` or `docs/kr/` directly.

**Full policy**: `docs/llm/policies/documentation-architecture.md`

## Directory Structure

```
my-girok/
├── CLAUDE.md                 # Entry point (this file)
│
├── .ai/                      # CDD - LLM INDICATORS (~20 lines each)
│   ├── README.md             # Navigation
│   ├── rules.md              # Core rules
│   ├── services/             # Service indicators → docs/llm/services/
│   ├── packages/             # Package indicators → docs/llm/packages/
│   └── apps/                 # App indicators
│
├── .specs/                   # SDD - DEVELOPMENT BLUEPRINTS
│   ├── README.md             # Navigation
│   └── apps/                 # App specifications
│       └── web-admin/        # web-admin specs
│
├── docs/llm/                 # CDD - SSOT (Full documentation)
│   ├── policies/             # Policy definitions (incl. sdd.md)
│   ├── services/             # Service full specs
│   ├── guides/               # Development guidelines
│   └── packages/             # Package documentation
│
├── docs/en/                  # GENERATED (batch) - DO NOT EDIT
└── docs/kr/                  # TRANSLATED (batch) - DO NOT EDIT
```

## Key Principles

### Language & Git

- **Language**: English only (code, docs, commits)
- **GitFlow**: `feat/* → develop → release → main` ([.ai/git-flow.md](.ai/git-flow.md))
- **Commits**: Never mention AI assistance

### Architecture & Stack

| Layer         | Tech                                                   |
| ------------- | ------------------------------------------------------ |
| **Frontend**  | React 19.2, TypeScript 5.9, Tailwind CSS 4.1, Vite 7.3 |
| **Mobile**    | iOS (Swift), Android (Kotlin), Flutter                 |
| **Backend**   | Node.js 24, NestJS 11.1, GraphQL Federation, gRPC      |
| **Database**  | PostgreSQL 16, Prisma 7, Valkey                        |
| **Messaging** | Redpanda (Kafka-compatible)                            |
| **AI**        | Python 3.13, FastAPI                                   |
| **Deploy**    | Kubernetes, Kustomize, Cilium Gateway API              |

### Development Rules

- Types first (`packages/types`)
- `@Transactional()` for multi-step DB ops
- 80% test coverage minimum
- Full BFF Pattern (session-based auth)

## Policies & Guides

| Topic                 | Path                                              |
| --------------------- | ------------------------------------------------- |
| Best Practices (2026) | `docs/llm/policies/best-practices-2026.md`        |
| Database/Migrations   | `docs/llm/policies/database.md`                   |
| Security              | `docs/llm/policies/security.md`                   |
| Testing Standards     | `docs/llm/policies/testing.md`                    |
| Performance           | `docs/llm/policies/performance.md`                |
| Deployment            | `docs/llm/policies/deployment.md`                 |
| External Resources    | `docs/llm/policies/external-resources.md`         |
| Telemetry Gateway     | `docs/llm/guides/telemetry-gateway-deployment.md` |

**Token Optimization**: Read `.ai/` for coding (patterns, APIs), refer to `docs/llm/` for policies.

---

**Start**: [.ai/README.md](.ai/README.md)
