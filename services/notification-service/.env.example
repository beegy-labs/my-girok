# Notification Service Configuration

# ============================================================
# Server
# ============================================================
GRPC_PORT=50055
HTTP_PORT=3000
NODE_ENV=development

# ============================================================
# Database
# ============================================================
DATABASE_URL=postgresql://girok_notification_dev:password@localhost:5432/girok_notification_dev

# ============================================================
# Kafka (Redpanda)
# ============================================================
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=notification-service
KAFKA_TOPIC_PREFIX=dev.
KAFKA_CONSUMER_GROUP=notification-service-consumer
KAFKA_TOPIC_PUSH=notification.push
KAFKA_TOPIC_SMS=notification.sms
KAFKA_TOPIC_DLQ=notification.dlq
KAFKA_SASL_ENABLED=false
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=
KAFKA_SASL_MECHANISM=scram-sha-512

# ============================================================
# Firebase Cloud Messaging (FCM)
# ============================================================
# Path to Firebase service account JSON file
FIREBASE_SERVICE_ACCOUNT_PATH=./firebase-service-account.json
# Or use individual credentials
FIREBASE_PROJECT_ID=
FIREBASE_CLIENT_EMAIL=
FIREBASE_PRIVATE_KEY=

# ============================================================
# SMS Provider (Twilio)
# ============================================================
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=

# ============================================================
# SMS Provider (AWS SNS) - Alternative
# ============================================================
AWS_REGION=ap-northeast-2
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
SNS_SMS_SENDER_ID=

# ============================================================
# Retry
# ============================================================
RETRY_MAX_ATTEMPTS=3
RETRY_BACKOFF_MS=1000
RETRY_BACKOFF_MULTIPLIER=2

# ============================================================
# Rate Limiting
# ============================================================
# Push notifications per user per hour
RATE_LIMIT_PUSH_PER_USER_HOUR=100
# SMS per user per day
RATE_LIMIT_SMS_PER_USER_DAY=10

# ============================================================
# OpenTelemetry
# ============================================================
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=notification-service
